<img src="https://sun9-14.userapi.com/impg/c855016/v855016794/1bbc91/s55qKIJiqnU.jpg?size=489x400&quality=96&sign=8d793bf6542603785fc760660fd427d3&type=album" height="100"/>

<h2> Тестовое задание на курс «Python» </h2>

Проект REST-сервис реализован на FastAPI без фронтенда, по этому к API будем обращать либо через Swagger, либо через реквесты, зависимости зафиксированы менеджером зависимостей Poetry, написаны тесты с использованием Pytest, реализована возможность собирать и запускать контейнер с сервисом в Docker. 

Для получения информации о заработной плате работника и иных данных нужно авторизоваться в сервисе, введя почту и пароль, после чего, если все верно, получим token, действующий 30 секунд. Данный token потребуется нам, чтобы пройти HTTPBearer, функция auth_wrapper класса AuthHandler декодирует токен и возвращает нам почту работника, если токен валидный. После чего функция сервиса API "Protected" возвращает данные работника связанные с нашей почтой.


1. Клонируем проект с репозитория  

        git clone https://github.com/TortureGG/fastapi_poetry_docker.git</p>

3. Запуск через Docker запускаем Dockerfile:
   Создаем Image:

           docker build -t image .

   Создаем Container с портом 80:
    
            docker run -p 80:80 image
    
   Переходим к Swagger по ссылке и можем взаимодействовать с сервисом

            http://localhost:80/docs
            http://127.0.0.1:80/docs

3. Запуск  можем через Poetry (необходимо предварительно установиться pip install poetry и указать путь), переходим в папку project, где находится файил с зависимостями pyproject.toml

        cd project
        poetry install
        poetry run python main.py
        http://localhost:80/docs
        http://127.0.0.1:80/docs

4. Тесты находятся в папке project/pytest/tests.py но предварительно нужно запустить REST-сервис, запускать их будетм командой:

           poetry run pytest pytest/tests.py 



Задание:
        
        Реализуйте REST-сервис просмотра текущей зарплаты и даты следующего
        повышения. Из-за того, что такие данные очень важны и критичны, каждый
        сотрудник может видеть только свою сумму. Для обеспечения безопасности, вам
        потребуется реализовать метод где по логину и паролю сотрудника будет выдан
        секретный токен, который действует в течение определенного времени. Запрос
        данных о зарплате должен выдаваться только при предъявлении валидного токена.
            ● сервис реализован на FastAPI;
            ● зависимости зафиксированы менеджером зависимостей poetry;
            ● написаны тесты с использованием pytest;
            ● реализована возможность собирать и запускать контейнер с сервисом в   Docker.
